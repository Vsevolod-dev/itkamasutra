{"version":3,"sources":["components/redux/dialog-reducer.js","assets/Paginator/Paginator.module.css","components/users/Users.module.css","assets/Infinity-1s-71px.svg","components/Navbar/Navbar.module.css","api/api.js","serviceWorker.js","components/Navbar/Navbar.jsx","components/redux/users-reducer.js","assets/Paginator/Paginator.js","components/users/User.js","components/users/Users.js","components/redux/users-selectors.js","components/users/UsersContainer.jsx","components/Header/Header.jsx","components/redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/redux/app-reducer.js","components/redux/redux-store.js","components/hoc/Lazy.js","App.js","index.js","components/hoc/Element.js","assets/OwnElements/OwnElements.js","assets/OwnElements/OwnElements.module.css","assets/Preloader.js","utils/validator/validators.js","components/Header/Header.module.css","components/redux/profile-reducer.js"],"names":["initialState","users","name","id","avatar","messages","message","addMessageActionCreator","newMessageBody","type","dialogReducer","state","action","textForAdd","module","exports","instance","axios","create","baseURL","withCredentials","headers","UserAPI","getUsers","currentPage","pageSize","get","then","response","data","FollowAPI","follow","userId","post","unfollow","delete","AuthAPI","getAuth","login","email","password","rememberMe","logout","ProfileAPI","getProfile","getStatus","updateStatus","status","put","Boolean","window","location","hostname","match","NavBar","props","className","classes","nav","item","to","activeClassName","activeLink","TOGGLE","countOfUsers","isFetching","isDisabled","followSuccess","setPage","disable","value","usersReducer","map","u","followed","usersCount","filter","Paginator","onPageChanged","pages","useState","beginPages","setBeginPages","endPages","setEndPages","countOfPages","Math","ceil","i","push","currentPages","fr","length","onClick","p","e","selectedPage","step","User","user","key","size","src","photos","small","alt","disabled","some","Users","usersPage","getUsersSuperSelector","createSelector","getPageSize","getCountOfUsers","getCurrentPage","getIsFetching","getIsDisabled","UsersContainer","pageNumber","getUsersAPI","this","Preloader","React","Component","compose","connect","dispatch","a","items","totalCount","qFollowed","resultCode","Header","header","loginBlock","isAuth","userName","out","setUserData","payload","authReducer","HeaderContainer","auth","maxLength10","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","CreateField","Input","required","stopSubmit","_error","Login","formData","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogPage","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","Lazy","Element","Suspense","fallback","News","lazy","Music","Settings","ProfileContainer","DialogsContainer","App","initialize","path","render","AppWithRouter","withRouter","promise","Promise","all","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","input","meta","touched","hasError","formControl","Textarea","component","placeholder","validate","text","Field","load","maxLength","ADD_POST","posts","like","profile","addPostActionCreator","newPostBody","setStatus","postId"],"mappings":"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","file":"static/js/main.c4ecabd9.chunk.js","sourcesContent":["const ADD_MESSAGE = 'dialogs/ADD-MESSAGE'\r\n\r\nlet initialState = {\r\n    users: [\r\n        {\r\n            name: 'Dima',\r\n            id: 1,\r\n            avatar: 'https://sun9-50.userapi.com/impf/c855236/v855236347/85c45/ezsYcnSzh-4.jpg?size=50x0&quality=90&crop=0,0,770,770&sign=fb8e89bd357bf3c9d6496533702af226&ava=1'\r\n        },\r\n        {\r\n            name: 'Misha',\r\n            id: 2,\r\n            avatar: 'https://sun9-8.userapi.com/impg/c857632/v857632865/1c4ce1/Xy73XzUSWQU.jpg?size=50x0&quality=90&crop=0,0,703,703&sign=9506d12e2ac47cbf066ecc9ebf2e626b&ava=1'\r\n        },\r\n        {\r\n            name: 'Nastya',\r\n            id: 3,\r\n            avatar: 'https://sun1-95.userapi.com/impg/PBfr9FLliwouF_8KTqS03wjVz-P962iKULwCag/XivTgT34isY.jpg?size=50x0&quality=90&crop=0,0,1620,1620&sign=f8b8441fd7e96788349637083902ff25&ava=1'\r\n        },\r\n        {   name: 'Kirill',\r\n            id: 4,\r\n            avatar: 'https://sun9-8.userapi.com/c5134/u135194303/e_d748db58.jpg?ava=1'\r\n        },\r\n        {\r\n            name: 'Sasha',\r\n            id: 5,\r\n            avatar: 'https://sun9-58.userapi.com/impf/c830509/v830509184/1b8b05/Tuz0GQoGEvI.jpg?size=50x0&quality=90&crop=0,0,2047,2047&sign=1a1f3c54f58420553a71e4e195397ef6&ava=1'\r\n        }\r\n    ],\r\n    messages: [\r\n        {message: 'privet', id: 1},\r\n        {message: 'poka', id: 2},\r\n    ],\r\n}\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case ADD_MESSAGE: {\r\n            let textForAdd = action.newMessageBody\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {\r\n                    message: textForAdd,\r\n                    id: 3,\r\n                }],\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => ({type: ADD_MESSAGE, newMessageBody})\r\n\r\nexport default dialogReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__J7G0V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"size\":\"Users_size__3Htf9\"};","module.exports = __webpack_public_path__ + \"static/media/Infinity-1s-71px.9f0bf158.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2jY6w\",\"item\":\"Navbar_item__1soGR\",\"activeLink\":\"Navbar_activeLink__1Rf3I\"};","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n                                /*VsevolodK*/                               /*smullok*/\r\n    headers: {\"API-KEY\": \"57870003-1581-479f-949d-9e5e9c139224\"/*\"86488a79-7860-4f1a-be38-1cd5e8560f56\"*/}\r\n})\r\n\r\nexport const UserAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`,\r\n            {withCredentials: true}\r\n        ).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const FollowAPI = {\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    }\r\n}\r\n\r\nexport const AuthAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\nexport const ProfileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`,{status})\r\n    }\r\n}\r\n\r\n\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst NavBar = (props) => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/profile\"} activeClassName={classes.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/dialogs\"} activeClassName={classes.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/news\"} activeClassName={classes.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/music\"} activeClassName={classes.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/settings\"} activeClassName={classes.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/users\"} activeClassName={classes.activeLink}>Users</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default NavBar;\r\n","import {FollowAPI, UserAPI} from \"../../api/api\";\r\n\r\nconst TOGGLE = 'users/TOGGLE'\r\nconst SET_USERS = 'users/SET-USERS'\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE'\r\nconst SET_USERS_COUNT = 'users/SET-USERS-COUNT'\r\nconst SET_FETCHING = 'users/SET-FETCHING'\r\nconst DISABLE = 'users/DISABLE'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    countOfUsers: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    isDisabled: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case TOGGLE: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: !u.followed}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        }\r\n\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case SET_USERS_COUNT: {\r\n            return {...state, countOfUsers: action.usersCount}\r\n        }\r\n\r\n        case SET_FETCHING: {\r\n            return {...state, isFetching: !state.isFetching}\r\n        }\r\n        case DISABLE: {\r\n            return {\r\n                ...state,\r\n                isDisabled: action.value\r\n                    ? [...state.isDisabled, action.userId]\r\n                    : state.isDisabled.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: TOGGLE, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setUsersCount = (usersCount) => ({type: SET_USERS_COUNT, usersCount})\r\nexport const setFetching = () => ({type: SET_FETCHING})\r\nexport const disable = (value, userId) => ({type: DISABLE, value, userId})\r\n\r\nexport const getUsersAPI = (currentPage, pageSize) => async dispatch => {\r\n    dispatch(setFetching())\r\n    let data = await UserAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setFetching())\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setUsersCount(data.totalCount))\r\n    dispatch(setPage(currentPage))\r\n}\r\n\r\nexport const follow = (qFollowed, userId) => async dispatch => {\r\n    dispatch(disable(true, userId))\r\n    let response = qFollowed ? await FollowAPI.unfollow(userId) : await FollowAPI.follow(userId)\r\n    if (!response.data.resultCode)\r\n        dispatch(followSuccess(userId))\r\n    dispatch(disable(false, userId))\r\n}\r\n\r\nexport default usersReducer","import React, {useState} from \"react\";\r\nimport classes from './Paginator.module.css'\r\n\r\nconst Paginator = ({countOfUsers, pageSize, currentPage, onPageChanged}) => {\r\n    let pages = []\r\n    let step = 100\r\n    let [beginPages, setBeginPages] = useState(1)\r\n    let [endPages, setEndPages] = useState(step)\r\n    let countOfPages = Math.ceil(countOfUsers / pageSize)\r\n\r\n    for (let i = beginPages; i <= endPages; ++i) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const currentPages = (fr, to) => {\r\n        pages.length = 0\r\n        for (let i = fr; i <= to; ++i) {\r\n            pages.push(i)\r\n        }\r\n    }\r\n\r\n    const nextPages = () => {\r\n        pages.length = 0\r\n        if (endPages <= countOfPages) {\r\n            setBeginPages(beginPages += step)\r\n            setEndPages(endPages += step)\r\n        }\r\n        currentPages(beginPages, endPages)\r\n    }\r\n\r\n    const prevPages = () => {\r\n        pages.length = 0\r\n        if (beginPages >= 11) {\r\n            setBeginPages(beginPages -= step)\r\n            setEndPages(endPages -= step)\r\n        }\r\n        currentPages(beginPages, endPages)\r\n    }\r\n    // debugger\r\n    return <div>\r\n        {pages[0] !== 1 && <button onClick={prevPages}>prev</button>}\r\n        {\r\n            pages.map(p => p <= countOfPages && <span\r\n                    onClick={(e) => onPageChanged(p)}\r\n                    className={currentPage === p && classes.selectedPage}\r\n                >{p + \" \"}</span>\r\n            )\r\n        }\r\n        {pages[step - 1] < countOfPages && <button onClick={nextPages}>next</button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport classes from './Users.module.css'\r\n\r\nconst User = ({user, isDisabled, follow}) => {\r\n    return (\r\n        <div key={user.id}>\r\n            <span>\r\n                <div className={classes.size}>\r\n                    <NavLink to={`/profile/${user.id}`}><img\r\n                        src={user.photos.small != null ? user.photos.small : 'https://img2.freepng.ru/20180523/tha/kisspng-businessperson-computer-icons-avatar-clip-art-lattice-5b0508dc6a3a10.0013931115270566044351.jpg'}\r\n                        alt={''}\r\n                    /></NavLink>\r\n                </div>\r\n                <div>\r\n                    <button\r\n                        disabled={isDisabled.some(id => id === user.id)}\r\n                        onClick={() => follow(user.followed, user.id)}\r\n                    >{user.followed ? \"unfollow\" : \"follow\"}</button>\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div> {user.name} </div>\r\n                    <div> {user.status} </div>\r\n                </span>\r\n                <span>\r\n                    <div> {\"user.location.country\"} </div>\r\n                    <div> {\"user.location.city\"} </div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","import React from \"react\";\r\nimport Paginator from \"../../assets/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({countOfUsers, pageSize, onPageChanged, usersPage, currentPage, isDisabled, follow}) => {\r\n    return <div>\r\n        <Paginator\r\n            countOfUsers={countOfUsers}\r\n            pageSize={pageSize}\r\n            onPageChanged={onPageChanged}\r\n            currentPage={currentPage}\r\n        />\r\n        {usersPage.map(u => <User\r\n            user={u}\r\n            isDisabled={isDisabled}\r\n            follow={follow}\r\n        />)}\r\n    </div>\r\n}\r\n\r\nexport default Users","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = state => state.usersPage.users\r\n\r\nexport const getUsersSelector = state => getUsers(state).filter(u => true)\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsers, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = state => state.usersPage.pageSize\r\n\r\nexport const getCountOfUsers = state => state.usersPage.countOfUsers\r\n\r\nexport const getCurrentPage = state => state.usersPage.currentPage\r\n\r\nexport const getIsFetching = state => state.usersPage.isFetching\r\n\r\nexport const getIsDisabled = state => state.usersPage.isDisabled","import React from 'react';\r\nimport {follow, getUsersAPI} from '../redux/users-reducer';\r\nimport {connect} from 'react-redux';\r\nimport Users from './Users';\r\nimport Preloader from \"../../assets/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport { getUsersSuperSelector, getPageSize, getCountOfUsers, getCurrentPage, getIsFetching, getIsDisabled,} from \"../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsersAPI(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = pageNumber => {\r\n        this.props.getUsersAPI(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            <Preloader isFetching={this.props.isFetching}/>\r\n            <Users {...this.props} onPageChanged={this.onPageChanged} />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        usersPage: getUsersSuperSelector(state),\r\n        pageSize: getPageSize(state),\r\n        countOfUsers: getCountOfUsers(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isDisabled: getIsDisabled(state),\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {getUsersAPI, follow}))(UsersContainer);","import React from \"react\";\r\nimport classes from \"./Header.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (<header className={classes.header}>\r\n        <img src={'https://im0-tub-ru.yandex.net/i?id=3ccc488523683f3a0f409f7acdf4e4b7&n=13'}\r\n             alt={\"\"}/>\r\n        <div className={classes.loginBlock}>\r\n            {props.isAuth\r\n                ? <div>\r\n                    {props.userName}\r\n                    <div onClick={props.logout} className={classes.out}>Logout</div>\r\n                </div>\r\n                :<NavLink to={'/login'}>Login</NavLink>}\r\n\r\n        </div>\r\n    </header>);\r\n}\r\n\r\nexport default Header;","import {AuthAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA'\r\nconst SET_FETCHING = 'auth/SET-FETCHING'\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuth: !state.isAuth,\r\n            }\r\n        }\r\n        case SET_FETCHING: {\r\n            return {...state, isFetching: !state.isFetching}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setFetching = () => ({type: SET_FETCHING})\r\nexport const setUserData = (userId, email, login) => ({type: SET_USER_DATA, payload: {userId, email, login}})\r\n\r\nexport const getAuth = () => async dispatch => {\r\n    dispatch(setFetching())\r\n    let response = await AuthAPI.getAuth()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setUserData(id, email, login))\r\n    }\r\n    dispatch(setFetching())\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async dispatch => {\r\n    dispatch(setFetching())\r\n    let response = await AuthAPI.login(email, password, rememberMe)\r\n    if (!response.data.resultCode) {\r\n        dispatch(getAuth())\r\n    } else {\r\n        let message = response.data.message > 0 ? response.data.message[0] : 'some error'\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n    dispatch(setFetching())\r\n}\r\n\r\nexport const logout = () => async dispatch => {\r\n    dispatch(setFetching())\r\n    let response = await AuthAPI.logout()\r\n    if (!response.data.resultCode) {\r\n        dispatch(setUserData(null, null, null))\r\n    }\r\n    dispatch(setFetching())\r\n}\r\n\r\n\r\nexport default authReducer","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <>\r\n            <Header {...this.props} />\r\n        </>\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        userName: state.auth.login,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {Input, CreateField} from \"../../assets/OwnElements/OwnElements\";\r\nimport {maxLengthCreator, required} from \"../../utils/validator/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, logout} from \"../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport classes from './../../assets/OwnElements/OwnElements.module.css'\r\n\r\nconst maxLength10 = maxLengthCreator(30)\r\n\r\n// VsevolodK\r\n// Talk8840&System&\r\n\r\nconst Login = ({login, isAuth}) => {\r\n\r\n    const Login = formData => {\r\n        login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if(isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={Login}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {CreateField(Input, 'email', 'Email', {},[required, maxLength10], 'VsevolodK')}\r\n            {CreateField(Input, 'password', 'Password', 'password', [required, maxLength10])}\r\n            {CreateField('input', 'rememberMe', {}, 'checkbox', {}, 'remember me')}\r\n            <div>\r\n                <button>Submit</button>\r\n            </div>\r\n            {error && <div className={classes.error}>{error}</div>}\r\n        </form>\r\n);\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: \"login\"})(LoginForm)\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login, logout})(Login);\r\n","import {getAuth} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'app/SET_INITIALISED'\r\nconst SET_FETCHING = 'app/SET_FETCHING'\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    isFetching: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            return {\r\n                ...state,\r\n                initialized: !state.initialized,\r\n            }\r\n        }\r\n        case SET_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: !state.isFetching,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setInitialized = () => ({type: SET_INITIALIZED})\r\nexport const setFetching = () => ({type: SET_FETCHING})\r\n\r\nexport const initialize = () => dispatch => {\r\n    let promise = dispatch(getAuth())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(setInitialized())\r\n        })\r\n}\r\n\r\nexport default appReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogReducer from \"./dialog-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nwindow.__store__ = store\r\n\r\nexport default store","import React from \"react\";\r\n\r\nconst Lazy = Element => {\r\n    return props => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Element {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}\r\nexport default Lazy","import React, {lazy} from 'react';\nimport './App.css'\nimport NavBar from \"./components/Navbar/Navbar\";\nimport {BrowserRouter, Route, withRouter} from 'react-router-dom';\n\nimport UsersContainer from \"./components/users/UsersContainer\";\n\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initialize} from \"./components/redux/app-reducer\";\nimport {compose} from \"redux\";\nimport Preloader from \"./assets/Preloader\";\nimport store from \"./components/redux/redux-store\";\nimport Lazy from \"./components/hoc/Lazy\";\n\nconst News = React.lazy(() => import(\"./components/News/News\"))\nconst Music = React.lazy(() => import(\"./components/Music/Music\"))\nconst Settings = React.lazy(() => import(\"./components/Settings/Settings\"))\n\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\n\n\nclass App extends React.Component<{}> {\n    componentDidMount() {\n        this.props.initialize()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className={'app-wrapper'}>\n                <HeaderContainer/>\n                <NavBar/>\n\n                <div className={'app-wrapper-content'}>\n                    <Route path='/profile/:userId?' render={Lazy(ProfileContainer)}/>\n                    <Route path='/dialogs' render={Lazy(DialogsContainer)}/>\n\n                    <Route path='/news' render={Lazy(News)}/>\n                    <Route path='/music' render={Lazy(Music)}/>\n                    <Route path='/settings' render={Lazy(Settings)}/>\n\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/login' render={() => <Login/>}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized,\n    isFetching: state.app.isFetching,\n})\n\nconst AppWithRouter = compose(withRouter, connect(mapStateToProps, {initialize}))(App)\n\n\nconst MainApp = () => {\n    return <BrowserRouter>\n        <Provider store={store}>\n            <AppWithRouter/>\n        </Provider>\n    </BrowserRouter>\n}\n\nexport default MainApp\n","import React from 'react';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport ReactDOM from \"react-dom\";\nimport MainApp from \"./App\";\n\n\nReactDOM.render(<MainApp />, document.getElementById('root'))\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from \"react\";\r\nimport classes from \"../../assets/OwnElements/OwnElements.module.css\";\r\n\r\nconst Element = Element => ({input, meta: {touched, error}, ...props}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\r\n            <Element {...input} {...props} />\r\n            {hasError && <span> {error} </span>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Element","import React from \"react\";\r\nimport Element from \"../../components/hoc/Element\";\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Textarea = Element(\"textarea\");\r\nexport const Input = Element(\"input\");\r\n\r\n// export const Textarea = ({input, meta, ...props}) => {\r\n//\r\n//     const hasError = meta.touched && meta.error\r\n//\r\n//     return (\r\n//         <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\r\n//             <div>\r\n//                 <textarea {...input} {...props}/>\r\n//             </div>\r\n//             {hasError && <span>{meta.error}</span>}\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n// export const Input = ({input, meta, ...props}) => {\r\n//\r\n//     const hasError = meta.touched && meta.error\r\n//\r\n//     return (\r\n//         <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\r\n//             <div>\r\n//                 <input {...input} {...props}/>\r\n//             </div>\r\n//             {hasError && <span>{meta.error}</span>}\r\n//         </div>\r\n//     )\r\n// }\r\n\r\nexport const CreateField = (component, name, placeholder = '',type = '', validate = '', text = '') => {\r\n    return (\r\n        <div>\r\n                <Field component={component}\r\n                       name={name}\r\n                       placeholder={placeholder}\r\n                       type={type}\r\n                       validate={validate}\r\n                />{text}\r\n            </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"OwnElements_formControl__3IeBJ\",\"error\":\"OwnElements_error__1sVSY\"};","import React from 'react'\r\nimport load from './Infinity-1s-71px.svg'\r\n\r\nconst Preloader = props => {\r\n    return <>\r\n        {props.isFetching ?\r\n            <img src={load} alt={''}/> : \"\"\r\n             }\r\n    </>\r\n}\r\n\r\nexport default Preloader","export const required = value => {\r\n    if(value) return undefined\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__S19k0\",\"loginBlock\":\"Header_loginBlock__1onao\",\"out\":\"Header_out__-yvJ8\"};","import {ProfileAPI} from \"../../api/api\";\r\n\r\nconst ADD_POST = 'profile/ADD_POST'\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE'\r\nconst SET_FETCHING = 'profile/SET_FETCHING'\r\nconst SET_STATUS = 'profile/SET_STATUS'\r\nconst DELETE_POST = 'profile/DELETE_POST'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'privet', like: 15},\r\n        {id: 2, message: 'poka', like: 20},\r\n        {id: 3, message: 'hi', like: 30},\r\n        {id: 4, message: 'bye', like: 40},\r\n    ],\r\n    profile: null,\r\n    isFetching: false,\r\n    status: \"\",\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let textForAdd = action.newPostBody\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {\r\n                    id: 5,\r\n                    message: textForAdd,\r\n                    like: 0\r\n                }],\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_FETCHING: {\r\n            return {...state, isFetching: !state.isFetching}\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p => p.id !== action.postId)}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostBody) => ({type: ADD_POST, newPostBody})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setFetching = () => ({type: SET_FETCHING})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = postId => ({type: DELETE_POST, postId})\r\n\r\nexport const getProfile = (userId) => async dispatch => {\r\n    dispatch(setFetching())\r\n    let response = await ProfileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n    dispatch(setFetching())\r\n}\r\n\r\nexport const getStatus = (userId) => async dispatch => {\r\n    dispatch(setFetching())\r\n    let response = await ProfileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n    dispatch(setFetching())\r\n}\r\n\r\nexport const updateStatus = (status) => async dispatch => {\r\n    dispatch(setFetching())\r\n    let response = await ProfileAPI.updateStatus(status)\r\n    if (!response.data.resultCode)\r\n        dispatch(setStatus(status))\r\n    dispatch(setFetching())\r\n}\r\n\r\nexport default profileReducer"],"sourceRoot":""}